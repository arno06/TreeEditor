<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>
            Tree modifiers
        </title>
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
        <link href="css/TreeEditor.css" rel="stylesheet">
        <script src="https://dependencies.arnaud-nicolas.fr/?need=Event,M4Tween,Request"></script>
        <script src="script/vendors/wysihtml/wysihtml.js"></script>
        <script src="script/vendors/wysihtml/wysihtml.all-commands.js"></script>
        <script src="script/vendors/wysihtml/wysihtml.table_editing.js"></script>
        <script src="script/vendors/wysihtml/wysihtml.toolbar.js"></script>
        <script src="script/TreeEditor.js"></script>
        <style>
            *{font-family: "Roboto", sans-serif;outline:none;}
            html, body{height:100%;width:100%;margin:0; padding:0;}
        </style>
    </head>
    <body>
    <h1>TreeEditor</h1>
    <div class="builder_container">
        <button onclick="t.save(event);">Enregistrer</button>
        <svg width="100%" height="100%" class="design_mode">
            <defs>
                <marker id="arrow" markerWidth="10" markerHeight="10" refX="8" refY="3" orient="auto" markerUnits="strokeWidth">
                    <path d="M0,0 L0,6 L9,3 z" fill="#000"></path>
                </marker>
            </defs>
            <g id="group-1" transform="translate(154,18)" data-role="block" data-type="diagnostic" class="draggable">
                <rect width="528" height="40"></rect>
                <foreignObject x="10" y="10" width="508" height="20">
                    <div class="cache">
                        <div data-name="description" data-type="html"><div class="wysiwyg-text-align-center"><b>Acne bouboup</b></div></div>
                    </div>
                </foreignObject>
                <path d="M10,0 L10,10 L0,10 Z" transform="translate(513, 25)" fill="#000" data-role="resize"></path><g data-role="notes" transform="translate(0,40)"></g><g data-role="grades" transform="translate(510,40)"></g></g><g transform="translate(318,88)" id="group-2" data-role="block" data-type="diagnostic" class="draggable"><rect width="200" height="75"></rect><foreignObject width="180" height="55" x="10" y="10"><div class="cache"><div data-name="description" data-type="html">Block 2</div></div></foreignObject><path d="M10,0 L10,10 L0,10 Z" transform="translate(185, 60)" fill="#000" data-role="resize"></path><g data-role="notes" transform="translate(0,75)"></g><g data-role="grades" transform="translate(182,75)"></g></g><g transform="translate(154,193)" id="group-3" data-role="block" data-type="diagnostic" class="draggable"><rect width="528" height="40"></rect><foreignObject width="508" height="20" x="10" y="10"><div class="cache"><div data-name="description" data-type="html">Block 3</div></div></foreignObject><path d="M10,0 L10,10 L0,10 Z" transform="translate(513, 25)" fill="#000" data-role="resize"></path><g data-role="notes" transform="translate(0,40)"></g><g data-role="grades" transform="translate(510,40)"></g></g><line id="segment_anchor-1_anchor-2" class="segment" marker-end="url(#arrow)" x1="418" y1="58" x2="418" y2="88"></line><line id="segment_anchor-3_anchor-4" class="segment" marker-end="url(#arrow)" x1="418" y1="163" x2="418" y2="193"></line><circle r="10" id="anchor-1" data-role="block" class="anchor draggable" data-draggable="restraintTo:group-1,50%,bottom" transform="translate(418,58)"></circle><circle r="10" id="anchor-2" data-role="block" class="anchor draggable" data-draggable="restraintTo:group-2,50%,top" transform="translate(418,88)"></circle><circle r="10" id="anchor-3" data-role="block" class="anchor draggable" data-draggable="restraintTo:group-2,50%,bottom" transform="translate(418,163)"></circle><circle r="10" id="anchor-4" data-role="block" class="anchor draggable" data-draggable="restraintTo:group-3,50%,top" transform="translate(418,193)"></circle></svg>
        <div class="properties_editor">
            <div class="actions">
                <button class="" data-mode="design_mode"><span class="material-icons">&#xE3AE;</span><span class="label">Mode design</span></button>
                <button class="inactive" data-mode="content_mode"><span class="material-icons">&#xE254;</span><span class="label">Mode auteur</span></button>
            </div>
            <div class="properties">

            </div>
        </div>
    </div>
    <script>
        var t;
        function init()
        {
            t = TreeEditor.create(".builder_container", TreeEditor.VERTI);
        }

        window.addEventListener("DOMContentLoaded", init, false);
    </script>
    </body>
</html>